{% extends "index.html" %}
{% load custom_filter %}
{% load static %}
{% block content %}

<div class="menu-layer">
    <!-- loader start-->
    <div class="page-loader">
        <div class="wrapper">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="shadow"></div>
            <div class="shadow"></div>
            <div class="shadow"></div>
            <span>Loading</span>
        </div>
    </div>
    <!-- loader end-->

    <!-- header -->
  
    <!-- hero-section -->
    <section class="hero-section about checkout gap"
        style="background-image: url(https://bslthemes.com/html/quickeat/assets/img/background-3.png);">
        <div class="container">
            <div class="row align-items-center mt-5">
                <ul class="crumbs d-flex" data-aos="fade-up" data-aos-delay="200" data-aos-duration="300">
                    <li><a href="{% url 'home:home-page' %}">Home</a></li>
                    <li><a href="{% url 'restaurant:restaurant' %}"><i class="fa-solid fa-right-long"></i>Restaurants </a></li>
                    <!-- <li><a href="{% url 'restaurant:restaurant' %}"><i class="fa-solid fa-right-long"></i>Restaurant
                            Ð¡ard</a></li> -->
                    <li class="two"><a href="javascript:void(0)"><i class="fa-solid fa-right-long"></i>Checkout</a>
                    </li>
                </ul>
                <div class="col-lg-12">
                    <div class="about-text pricing-table">
                        <h2 data-aos="fade-up" data-aos-delay="300" data-aos-duration="400">Checkout</h2>
                        <p data-aos="fade-up" data-aos-delay="400" data-aos-duration="500">Sit amet nisl purus in mollis
                            nunc sed id semper. Condimentum id venenatis a condimentum vitae sapien pellentesque.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- checkout-order -->
    <section class="gap">
        <div class="container">
            <div class="row">
                <div class="col-xl-5 col-lg-12" data-aos="flip-up" data-aos-delay="200" data-aos-duration="300">
                    <div class="checkout-order">
                        <div class="title-checkout">
                            <h2>Your order:</h2>
                            <h6>{{ cart|length }}</h6>
                        </div>
                        
                        <div class="banner-wilmington">
                            <img alt="logo" src="{% if order.restaurant.logo %}{{order.restaurant.logo.url}}{% else %}{% static 'images/order-easy.png' %}{% endif %}" class="img-fluid mx-2" style="width: 120px; height: 100px; object-fit: cover;">
                            Restaurant: <h6> {{order.restaurant.title}}</h6>
                        </div>
                        
                        <ul>
                            {% for item in cart %}
                                <li class="price-list my-2">
                                    {% comment %} <i class="closeButton fa-solid fa-xmark"></i> {% endcomment %}
                                    <div class="counter-container">
                                        <div class="counter-food">
                                            <img alt="food"class="mx-2" src="{% if item.image %}{{item.image}}{% else %}{% static 'images/order-easy.png' %}{% endif %}" style="width: 106px; height: 69px; object-fit: cover; border-radius: 4px;">
                                            <div class="food-details">
                                                <h5>{{ item.title }}</h5>
                                                <!-- <h3>${{ item.price }}</h3> -->
                                            </div>
                                        </div>
                                        <div class="price">
                                            <h3>${{ item.price }}</h3>
                                        </div>
                                    </div>                                    
                                    <div class="price">
                                        <div class="d-flex py-auto my-auto">
                                            <span style="padding-top: 10px; padding-right: 10px;">Sum</span>
                                            <h2>${{ item.total }}</h2>
                                        </div>
                                        <div class="d-flex">
                                            <div class="qty-input d-flex">
                                                <span>Quantity</span>
                                                {% comment %} <button class="qty-count qty-count--minus" data-action="minus" type="button">-</button> {% endcomment %}
                                                <input class="product-qty" type="number" name="product-qty" min="0" value="{{ item.quantity }}" readonly>
                                                {% comment %} <button class="qty-count qty-count--add" data-action="add" type="button">+</button> {% endcomment %}
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            {% endfor %}
                        </ul>
                        
                        <div class="totel-price">
                            <span>Total order:</span>
                            <h5>${{ total }}</h5>
                        </div>

                        <div class="totel-price">
                            <span>Dilivery Charge:</span>
                            <h5>${{ order.charge }}</h5>
                        </div>

                        {% if order.voucher %}
                            <div class="totel-price">
                                <span>Voucher Applied:</span>
                                <h5>-${{ order.voucher.discount }}</h5>
                            </div>
                        {% endif %}

                        <div class="totel-price">
                            <span>To pay:</span>
                            <h2>${{ order.total|floatformat:2 }}</h2>
                        </div>
                    </div>
                </div>
                <div class="offset-xl-1 col-xl-6 col-lg-12" data-aos="flip-up" data-aos-delay="300" data-aos-duration="400">
                    <form method="POST" class="checkout-form">
                        {% csrf_token %}
                        <h4>Buyer information</h4>
                        <input type="hidden" name="oid" value="{{ order.id }}" required>
                        <input type="text" name="first_name" placeholder="First Name" value="{% if order.fname %}{{ order.fname }}{% endif %}" required>
                        <input type="text" name="last_name" placeholder="Last Name" value="{% if order.lname %}{{ order.lname }}{% endif %}" required>
                        <div class="row">
                            <div class="col-lg-6">
                                <input class="email-input" type="email" name="email" placeholder="E-mail" value="{% if order.email %}{{ order.email }}{% endif %}" required>
                            </div>
                            <div class="col-lg-6">
                                <input type="number" name="phone" placeholder="Phone" value="{% if order.phone %}{{ order.phone }}{% endif %}" required>
                            </div>
                        </div>
                        <h4 class="two">Delivery addresses</h4>
                        <textarea name="address" id="daddress" rows="10" cols="12" placeholder="Address" required></textarea>
                        <textarea name="instructions" id="instructions" rows="10" cols="12" placeholder="Special Instructions"></textarea>
                        <select class="nice-select Advice" name="otype" required>
                            <option value="Delivery" {% if order.otype == "Delivery" %}selected{% endif %}>Delivery</option>
                            <option value="Pickup" {% if order.otype == "Pickup" %}selected{% endif %}>Pickup</option>
                            <option value="Schedule" {% if order.otype == "Schedule" %}selected{% endif %}>Schedule</option>
                        </select>
                        <button type="submit" name="place_order" class="button-price">Place Order</button>
                        <!-- <input type="text" name="street" placeholder="Street">
                        <div class="row">
                            <div class="col-lg-6">
                                <input type="text" name="house_number" placeholder="House number">
                            </div>
                            <div class="col-lg-6">
                                <input type="number" name="apartment_number" placeholder="Apartment number">
                                <span>*dispensable</span>
                            </div>
                        </div>
                        <input type="text" name="order_type" value="Delivery"> -->

                        <!-- <h4 class="two">Payment method</h4>
                        <div class="nav nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                            <button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill"
                                data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home"
                                aria-selected="true">Card</button>
                            <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill"
                                data-bs-target="#v-pills-profile" type="button" role="tab"
                                aria-controls="v-pills-profile" aria-selected="false">Cash</button>
                       </div>
                        <div class="tab-content" id="v-pills-tabContent">

                            <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel"
                                aria-labelledby="v-pills-home-tab">
                                <label>
                                    <input type="radio" name="test" value="small" checked>
                                    <img alt="checkbox-img"
                                        src="https://bslthemes.com/html/quickeat/assets/img/checkbox-1.png">
                                </label>

                                <label>
                                    <input type="radio" name="test" value="big">
                                    <img alt="checkbox-img"
                                        src="https://bslthemes.com/html/quickeat/assets/img/checkbox-2.png">
                                </label>
                                <label>
                                    <input type="radio" name="test" value="big">
                                    <img alt="checkbox-img"
                                        src="https://bslthemes.com/html/quickeat/assets/img/checkbox-3.png">
                                </label>
                                <input type="number" name="Name" placeholder="Card number">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <input type="text" name="E-mail" placeholder="Expiration Date">
                                    </div>
                                    <div class="col-lg-6">
                                        <input type="password" placeholder="CVV">
                                    </div>
                                </div>
                                <label class="checkbox-one">Save my payments details for future purchases
                                    <input type="checkbox" checked="checked">
                                    <span class="checkmark"></span>
                                </label>

                                <div class="tab-pane fade" id="v-pills-profile" role="tabpanel"
                                    aria-labelledby="v-pills-profile-tab">

                                </div>


                            </div>
                        </div> -->
                        <!-- <button class="button-price">Send</button> -->
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- footer -->
   
    <!-- bslthemes.com buttons html begin -->
    <div class="bsl-popup" data-theme="quickeat" data-category="html">
        <div class="bsl-popup__buttons"></div>
        <div class="bsl-popup__content bsl-popup__content-related">
            <div class="bsl-popup__menu"></div>
            <div class="bsl-popup__tabs">
                <div class="bsl-popup__tab bsl-popup__tab-demo"></div>
                <div class="bsl-popup__tab bsl-popup__tab-all"></div>
                <div class="bsl-popup__tab bsl-popup__tab-related"></div>
                <div class="bsl-popup__tab bsl-popup__tab-version"></div>
            </div>
        </div>
        <div class="bsl-popup__content bsl-popup__content-help"></div>
    </div>
    <!-- bslthemes.com buttons html end -->

    <!-- bslthemes.com buttons assets begin -->

</body>
{% endblock %}